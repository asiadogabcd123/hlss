"use strict";(self["webpackChunkhlss"]=self["webpackChunkhlss"]||[]).push([[538],{1241:function(e,s){s.A=(e,s)=>{const a=e.__vccOpts||e;for(const[o,r]of s)a[o]=r;return a}},5538:function(e,s,a){a.r(s),a.d(s,{default:function(){return K}});var o=a(6768),r=a(5130),n=a(4232);const l={class:"staff-login-container"},t={class:"login-box"},i={class:"form-group"},u=["disabled"],d={class:"form-group password-group"},c={class:"password-input-wrapper"},p=["type","disabled"],f=["disabled"],g={key:0,class:"error-message"},L={class:"login-footer"},v={class:"version"};function k(e,s,a,k,w,m){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",t,[s[12]||(s[12]=(0,o.Lk)("div",{class:"logo"},[(0,o.Lk)("i",{class:"fas fa-hotel"}),(0,o.Lk)("h1",null,"酒店行李系統")],-1)),(0,o.Lk)("form",{onSubmit:s[4]||(s[4]=(0,r.D$)((...e)=>k.handleLogin&&k.handleLogin(...e),["prevent"])),class:"login-form"},[(0,o.Lk)("div",i,[s[5]||(s[5]=(0,o.Lk)("label",{for:"username"},"工作人員帳號",-1)),(0,o.bo)((0,o.Lk)("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=e=>k.username=e),type:"text",placeholder:"請輸入工號",required:"",autocomplete:"username",disabled:k.isLoading},null,8,u),[[r.Jo,k.username,void 0,{trim:!0}]])]),(0,o.Lk)("div",d,[s[6]||(s[6]=(0,o.Lk)("label",{for:"password"},"密碼",-1)),(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>k.password=e),type:k.showPassword?"text":"password",placeholder:"請輸入密碼",required:"",autocomplete:"current-password",disabled:k.isLoading,onKeyup:s[2]||(s[2]=(0,r.jR)((...e)=>k.handleLogin&&k.handleLogin(...e),["enter"]))},null,40,p),[[r.hp,k.password,void 0,{trim:!0}]]),(0,o.Lk)("button",{type:"button",class:"toggle-password",onClick:s[3]||(s[3]=e=>k.showPassword=!k.showPassword),tabindex:"-1"},[(0,o.Lk)("i",{class:(0,n.C4)(k.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),(0,o.Lk)("button",{type:"submit",class:(0,n.C4)(["login-btn",{loading:k.isLoading}]),disabled:k.isLoading},[k.isLoading?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[s[9]||(s[9]=(0,o.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1)),s[10]||(s[10]=(0,o.eW)(" 登入中... "))],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[s[7]||(s[7]=(0,o.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1)),s[8]||(s[8]=(0,o.eW)(" 登入系統 "))],64))],10,f),k.errorMessage?((0,o.uX)(),(0,o.CE)("div",g,[s[11]||(s[11]=(0,o.Lk)("i",{class:"fas fa-exclamation-circle"},null,-1)),(0,o.eW)(" "+(0,n.v_)(k.errorMessage),1)])):(0,o.Q3)("",!0)],32)]),(0,o.Lk)("footer",L,[(0,o.Lk)("p",null,"© "+(0,n.v_)(k.currentYear)+" 置地酒店禮賓部行李寄存系統",1),(0,o.Lk)("p",v,"v"+(0,n.v_)(k.appVersion),1)])])}var w=a(144),m=a(1387),h=a(14),b={setup(){const e=(0,m.rd)(),s=(0,h.n)(),a=(0,w.KR)(""),r=(0,w.KR)(""),n=(0,w.KR)(""),l=(0,w.KR)(!1),t=(0,w.KR)(!1),i=(0,o.EW)(()=>(new Date).getFullYear()),u="1.0.0",d=async()=>{if(a.value&&r.value)try{l.value=!0,n.value="";const o=await s.staffLogin(a.value,r.value);if(o?.token){console.log("跳转到仪表盘...");const s=e.currentRoute.value.query.redirect||"/staff/dashboard";e.replace(s)}}catch(o){console.error("登录流程错误:",o),n.value=o.message,r.value=""}finally{l.value=!1}else n.value="請輸入帳號和密碼"};return(0,o.sV)(()=>{document.getElementById("username")?.focus()}),{username:a,password:r,errorMessage:n,isLoading:l,showPassword:t,currentYear:i,appVersion:u,handleLogin:d}}},y=a(1241);const C=(0,y.A)(b,[["render",k],["__scopeId","data-v-08ee284a"]]);var K=C}}]);
//# sourceMappingURL=538.62022b8d.js.map