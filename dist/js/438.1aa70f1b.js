(self["webpackChunkhlss"]=self["webpackChunkhlss"]||[]).push([[204,438,651],{1651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(6768),a=n(4232);const o={class:"container"},i={class:"main-tabs"},l={class:"tabs"},s={class:"notification-content"},c={class:"notification-title"},d={class:"notification-message"},u={key:1,class:"loading-overlay"};function f(e,t,n,f,p,m){const b=(0,r.g2)("QrBatch"),g=(0,r.g2)("Scanner");return(0,r.uX)(),(0,r.CE)("div",o,[t[7]||(t[7]=(0,r.Lk)("div",{class:"header"},[(0,r.Lk)("h1",null,[(0,r.Lk)("i",{class:"fas fa-luggage-cart"}),(0,r.eW)(" 行李標籤管理與掃描系統")])],-1)),(0,r.Lk)("div",i,[(0,r.Lk)("div",l,[(0,r.Lk)("button",{class:(0,a.C4)(["tab-btn",{active:"scanner"===f.activeTab}]),onClick:t[0]||(t[0]=e=>f.handleTabChange("scanner"))},t[3]||(t[3]=[(0,r.Lk)("i",{class:"fas fa-camera"},null,-1),(0,r.eW)(" 掃描取件 ")]),2),(0,r.Lk)("button",{class:(0,a.C4)(["tab-btn",{active:"management"===f.activeTab}]),onClick:t[1]||(t[1]=e=>f.handleTabChange("management"))},t[4]||(t[4]=[(0,r.Lk)("i",{class:"fas fa-qrcode"},null,-1),(0,r.eW)(" 標籤管理 ")]),2)]),"management"===f.activeTab?((0,r.uX)(),(0,r.Wv)(b,{key:0,class:"tab-content",today:f.today,"quick-dates":f.quickDates,onLoadLuggage:f.loadLuggage,onPrintSingle:f.printSingle,onLoadLuggageData:f.loadLuggageData},null,8,["today","quick-dates","onLoadLuggage","onPrintSingle","onLoadLuggageData"])):(0,r.Q3)("",!0),"scanner"===f.activeTab?((0,r.uX)(),(0,r.Wv)(g,{key:1,class:"tab-content",onVerifyIdentity:f.verifyIdentity,onRetrieveLuggage:f.retrieveLuggage,onResetScanner:f.resetScanner,onFocusScanner:f.focusScanner},null,8,["onVerifyIdentity","onRetrieveLuggage","onResetScanner","onFocusScanner"])):(0,r.Q3)("",!0)]),f.showNotification?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,a.C4)(["notification",[f.notificationType,f.notificationType+"-notification"]])},[(0,r.Lk)("i",{class:(0,a.C4)(["notification-icon",e.notificationIcon])},null,2),(0,r.Lk)("div",s,[(0,r.Lk)("div",c,(0,a.v_)(f.notificationTitle),1),(0,r.Lk)("div",d,(0,a.v_)(f.notificationMessage),1)]),(0,r.Lk)("button",{class:"notification-close",onClick:t[2]||(t[2]=e=>f.showNotification=!1)},t[5]||(t[5]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1)]))],2)):(0,r.Q3)("",!0),f.loading?((0,r.uX)(),(0,r.CE)("div",u,t[6]||(t[6]=[(0,r.Lk)("div",{class:"loading-spinner"},[(0,r.Lk)("i",{class:"fas fa-spinner fa-spin"}),(0,r.Lk)("p",null,"加載中，請稍候...")],-1)]))):(0,r.Q3)("",!0)])}n(4114),n(8111),n(116),n(3579);var p=n(144),m=n(1576),b=n.n(m),g=(n(454),n(1928)),y=n(4856),v=n.n(y),h=n(6142),w=n(8657);b().locale("zh-tw");var j={name:"LuggageSystem",components:{QrBatch:h["default"],Scanner:w["default"]},setup(){const e=(0,p.KR)(!1),t=(0,p.KR)("scanner"),n=(0,p.KR)(b()().format("YYYY-MM-DD")),a=(0,p.KR)([]),o=(0,p.KR)(null),i=(0,p.KR)([]),l=(0,p.KR)([]),s=(0,p.KR)(""),c=(0,p.KR)([{label:"今天",value:n.value,type:"day"},{label:"昨天",value:b()().subtract(1,"day").format("YYYY-MM-DD"),type:"day"},{label:"本週",value:b()().startOf("week").format("YYYY-MM-DD"),type:"range"},{label:"本月",value:b()().startOf("month").format("YYYY-MM-DD"),type:"range"}]),d=(0,p.KR)(null),u=(0,p.KR)(""),f=(0,p.KR)(null),m=(0,p.KR)([]),y=(0,p.KR)(null),h=(0,p.KR)("code"),w=(0,p.KR)(""),j=(0,p.KR)(!1),S=(0,p.KR)(!1),E=(0,p.KR)("success"),L=(0,p.KR)(""),x=(0,p.KR)(""),k=e=>{t.value=e,"scanner"===e&&setTimeout(()=>R(),300)},C=(e,t,n)=>{E.value=e,L.value=t,x.value=n,S.value=!0,setTimeout(()=>{S.value=!1},3e3)},T=async()=>{try{e.value=!0;const t={},r=c.value.find(e=>e.value===s.value);s.value&&("range"===r?.type?(t.startDate=s.value,t.endDate=n.value):t.date=s.value);const[a,o]=await Promise.all([g.A.getPendingForQR(t),g.A.getPrintedLuggage(t)]);i.value=a.data,l.value=o.data}catch(t){console.error("加載行李數據失敗:",t),C("error","錯誤","獲取行李數據失敗，請檢查網絡連接或稍後重試")}finally{e.value=!1}},A=async t=>{try{e.value=!0;const n=await g.A.getLuggageById(t),r=n.data;o.value={id:r.id,guestName:r.guestName,phoneLast4:r.phone?.slice(-4)||"0000",luggageCount:r.luggageCount},a.value=I(r)}catch(n){console.error("加載行李信息失敗:",n);let e="加載行李信息失敗";n.response&&(404===n.response.status?e="行李記錄不存在":n.response.data&&n.response.data.message&&(e=n.response.data.message)),C("error","錯誤",`${e}，請稍後重試`)}finally{e.value=!1}},I=e=>{const t=[];for(let n=1;n<=e.luggageCount;n++){const r=`LUG-${e.id}-${n}`;t.push({id:`${e.id}-${n}`,sequence:n,totalCount:e.luggageCount,qrImage:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(r)}`})}return t},M=async(e,t)=>{try{const n=o.value.id,r=l.value.some(e=>e.id===n);if(!r){const e=await g.A.generateLabels(n,o.value.luggageCount);a.value=e.data;const t=i.value.findIndex(e=>e.id===n);if(-1!==t){const[e]=i.value.splice(t,1);l.value.push(e)}}const s=`\n          <div style="text-align: center; padding: 20px;">\n            <img src="${e.qrImage}" alt="行李標籤" style="max-width: 100%; height: auto;">\n            <p>行李 ${t+1}/${a.value.length} | LUG-${o.value.id}</p>\n            <p>打印時間: ${(new Date).toLocaleString()}</p>\n          </div>\n        `;v()({printable:s,type:"raw-html",style:"@page { size: auto; margin: 5mm; }",onPrintDialogClose:()=>{console.log("打印對話框已關閉")}})}catch(n){console.error("打印失敗:",n);let e="打印失敗";n.response&&(404===n.response.status?e="行李記錄不存在":n.response.data&&n.response.data.message&&(e=n.response.data.message)),C("error","錯誤",`${e}，請稍後重試`)}},R=()=>{y.value&&y.value.focus()},O=async()=>{if(f.value)if(w.value.trim())try{let e=!1;if("code"===h.value)e=w.value===f.value.verification_code;else{const t=await g.A.verifyIdNumber(f.value.id,w.value);e=t.data.valid}j.value=e,e?C("success","成功","身份驗證已通過"):(C("error","錯誤","驗證資訊不正確，請重新輸入"),w.value="")}catch(e){console.error("驗證失敗:",e),C("error","錯誤",e.response?.data?.message||"驗證過程中發生錯誤")}else C("error","錯誤","請輸入驗證資訊");else C("error","錯誤","請先掃描行李標籤")},P=async()=>{if(f.value)try{e.value=!0;const t=await g.A.retrieveLuggage(f.value.id);t.data.success?(C("success","成功","行李已成功取出"),N()):C("error","錯誤","取件失敗，請重試")}catch(t){console.error("取件失敗:",t),C("error","錯誤","取件過程中發生錯誤")}finally{e.value=!1}},N=()=>{d.value=null,f.value=null,m.value=[],j.value=!1,w.value="",u.value=""};return(0,r.sV)(()=>{s.value=n.value,T()}),{loading:e,activeTab:t,today:n,quickDates:c,handleTabChange:k,showNotification:S,notificationType:E,notificationTitle:L,notificationMessage:x,loadLuggage:A,printSingle:M,verifyIdentity:O,retrieveLuggage:P,resetScanner:N,focusScanner:R,loadLuggageData:T}}},S=n(1241);const E=(0,S.A)(j,[["render",f],["__scopeId","data-v-57a3ebfb"]]);var L=E},4856:function(e,t,n){n(8111),n(7588),n(1701),n(9577),n(4979),function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/index.js":
/*!**********************!*\
      !*** ./src/index.js ***!
      \**********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! ./sass/index.scss */"./src/sass/index.scss");var r=n(/*! ./js/init */"./src/js/init.js"),a=r["default"].init;"undefined"!==typeof window&&(window.printJS=a),t["default"]=a},"./src/js/browser.js":
/*!***************************!*\
      !*** ./src/js/browser.js ***!
      \***************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={isFirefox:function(){return"undefined"!==typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!e.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t["default"]=r},"./src/js/functions.js":
/*!*****************************!*\
      !*** ./src/js/functions.js ***!
      \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(e,t,n){"use strict";n.r(t),n.d(t,"addWrapper",function(){return i}),n.d(t,"capitalizePrint",function(){return l}),n.d(t,"collectStyles",function(){return s}),n.d(t,"addHeader",function(){return d}),n.d(t,"cleanUp",function(){return u}),n.d(t,"isRawHTML",function(){return f});var r=n(/*! ./modal */"./src/js/modal.js"),a=n(/*! ./browser */"./src/js/browser.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n="font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;";return'<div style="'+n+'">'+e+"</div>"}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t){for(var n=document.defaultView||window,r="",a=n.getComputedStyle(e,""),o=0;o<a.length;o++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(a[o])||c(t.targetStyles,a[o]))&&a.getPropertyValue(a[o])&&(r+=a[o]+":"+a.getPropertyValue(a[o])+";");return r+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;",r}function c(e,t){for(var n=0;n<e.length;n++)if("object"===o(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function d(e,t){var n=document.createElement("div");if(f(t.header))n.innerHTML=t.header;else{var r=document.createElement("h1"),a=document.createTextNode(t.header);r.appendChild(a),r.setAttribute("style",t.headerStyle),n.appendChild(r)}e.insertBefore(n,e.childNodes[0])}function u(e){e.showModal&&r["default"].close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(a["default"].isChrome()||a["default"].isFirefox())&&(t="focus");var n=function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var r=document.getElementById(e.frameId);r&&r.remove()};window.addEventListener(t,n)}function f(e){var t=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return t.test(e)}},"./src/js/html.js":
/*!************************!*\
      !*** ./src/js/html.js ***!
      \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),a=n(/*! ./print */"./src/js/print.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=e.cloneNode(),a=Array.prototype.slice.call(e.childNodes),o=0;o<a.length;o++)if(-1===t.ignoreElements.indexOf(a[o].id)){var l=i(a[o],t);n.appendChild(l)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",Object(r["collectStyles"])(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0);break}return n}function l(e){return"object"===o(e)&&e&&(e instanceof HTMLElement||1===e.nodeType)}t["default"]={print:function(e,t){var n=l(e.printable)?e.printable:document.getElementById(e.printable);n?(e.printableElement=i(n,e),e.header&&Object(r["addHeader"])(e.printableElement,e),a["default"].send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":
/*!*************************!*\
      !*** ./src/js/image.js ***!
      \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),a=n(/*! ./print */"./src/js/print.js"),o=n(/*! ./browser */"./src/js/browser.js");t["default"]={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach(function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,o["default"].isFirefox()){var r=n.src;n.src=r}var a=document.createElement("div");a.appendChild(n),e.printableElement.appendChild(a)}),e.header&&Object(r["addHeader"])(e.printableElement,e),a["default"].send(e,t)}}},"./src/js/init.js":
/*!************************!*\
      !*** ./src/js/init.js ***!
      \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./browser */"./src/js/browser.js"),a=n(/*! ./modal */"./src/js/modal.js"),o=n(/*! ./pdf */"./src/js/pdf.js"),i=n(/*! ./html */"./src/js/html.js"),l=n(/*! ./raw-html */"./src/js/raw-html.js"),s=n(/*! ./image */"./src/js/image.js"),c=n(/*! ./json */"./src/js/json.js");function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var u=["pdf","html","image","json","raw-html"];t["default"]={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(d(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable="undefined"!==typeof t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]="undefined"!==typeof t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+d(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!==typeof e.type||-1===u.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&a["default"].show(e),e.onLoadingStart&&e.onLoadingStart();var f=document.getElementById(e.frameId);f&&f.parentNode.removeChild(f);var p=document.createElement("iframe");switch(r["default"].isFirefox()?p.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):p.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),p.setAttribute("id",e.frameId),"pdf"!==e.type&&(p.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(e){p.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),p.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r["default"].isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var m=window.open(e.fallbackPrintable,"_blank");m.focus(),e.onIncompatibleBrowser()}catch(b){e.onError(b)}finally{e.showModal&&a["default"].close(),e.onLoadingEnd&&e.onLoadingEnd()}else o["default"].print(e,p);break;case"image":s["default"].print(e,p);break;case"html":i["default"].print(e,p);break;case"raw-html":l["default"].print(e,p);break;case"json":c["default"].print(e,p);break}}}},"./src/js/json.js":
/*!************************!*\
      !*** ./src/js/json.js ***!
      \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),a=n(/*! ./print */"./src/js/print.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=e.printable,n=e.properties,a='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(a+="<thead>"),a+="<tr>";for(var o=0;o<n.length;o++)a+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+Object(r["capitalizePrint"])(n[o].displayName)+"</th>";a+="</tr>",e.repeatTableHeader&&(a+="</thead>"),a+="<tbody>";for(var i=0;i<t.length;i++){a+="<tr>";for(var l=0;l<n.length;l++){var s=t[i],c=n[l].field.split(".");if(c.length>1)for(var d=0;d<c.length;d++)s=s[c[d]];else s=s[n[l].field];a+='<td style="width:'+n[l].columnSize+e.gridStyle+'">'+s+"</td>"}a+="</tr>"}return a+="</tbody></table>",a}t["default"]={print:function(e,t){if("object"!==o(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!==typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map(function(t){return{field:"object"===o(t)?t.field:t,displayName:"object"===o(t)?t.displayName:t,columnSize:"object"===o(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}}),e.printableElement=document.createElement("div"),e.header&&Object(r["addHeader"])(e.printableElement,e),e.printableElement.innerHTML+=i(e),a["default"].send(e,t)}}},"./src/js/modal.js":
/*!*************************!*\
      !*** ./src/js/modal.js ***!
      \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={show:function(e){var t="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",n=document.createElement("div");n.setAttribute("style",t),n.setAttribute("id","printJS-Modal");var a=document.createElement("div");a.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),a.appendChild(o);var i=document.createElement("span");i.setAttribute("class","printSpinner"),a.appendChild(i);var l=document.createTextNode(e.modalMessage);a.appendChild(l),n.appendChild(a),document.getElementsByTagName("body")[0].appendChild(n),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t["default"]=r},"./src/js/pdf.js":
/*!***********************!*\
      !*** ./src/js/pdf.js ***!
      \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./print */"./src/js/print.js"),a=n(/*! ./functions */"./src/js/functions.js");function o(e,t,n){var a=new window.Blob([n],{type:"application/pdf"});a=window.URL.createObjectURL(a),t.setAttribute("src",a),r["default"].send(e,t)}t["default"]={print:function(e,t){if(e.base64){var n=Uint8Array.from(atob(e.printable),function(e){return e.charCodeAt(0)});o(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("error",function(){Object(a["cleanUp"])(e),e.onError(r.statusText,r)}),r.addEventListener("load",function(){if(-1===[200,201].indexOf(r.status))return Object(a["cleanUp"])(e),void e.onError(r.statusText,r);o(e,t,r.response)}),r.open("GET",e.printable,!0),r.send()}}}},"./src/js/print.js":
/*!*************************!*\
      !*** ./src/js/print.js ***!
      \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./browser */"./src/js/browser.js"),a=n(/*! ./functions */"./src/js/functions.js"),o={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var a=document.createElement("style");a.innerHTML=e.style,t.head.appendChild(a)}var o=t.getElementsByTagName("img");o.length>0?l(Array.from(o)).then(function(){return i(n,e)}):i(n,e)}else r["default"].isFirefox()?setTimeout(function(){return i(n,e)},1e3):i(n,e)}}};function i(e,t){try{if(e.focus(),r["default"].isEdge()||r["default"].isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(n){e.contentWindow.print()}else e.contentWindow.print()}catch(o){t.onError(o)}finally{r["default"].isFirefox()&&(e.style.visibility="hidden",e.style.left="-1px"),Object(a["cleanUp"])(t)}}function l(e){var t=e.map(function(e){if(e.src&&e.src!==window.location.href)return s(e)});return Promise.all(t)}function s(e){return new Promise(function(t){var n=function n(){e&&"undefined"!==typeof e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)};n()})}t["default"]=o},"./src/js/raw-html.js":
/*!****************************!*\
      !*** ./src/js/raw-html.js ***!
      \****************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./print */"./src/js/print.js");t["default"]={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,r["default"].send(e,t)}}},"./src/sass/index.scss":
/*!*****************************!*\
      !*** ./src/sass/index.scss ***!
      \*****************************/
/*! no static exports found */function(e,t,n){},0:
/*!****************************!*\
      !*** multi ./src/index.js ***!
      \****************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! ./src/index.js */"./src/index.js")}})["default"]})}}]);
//# sourceMappingURL=438.1aa70f1b.js.map